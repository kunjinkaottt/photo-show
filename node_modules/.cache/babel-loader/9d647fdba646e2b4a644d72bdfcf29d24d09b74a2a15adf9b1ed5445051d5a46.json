{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/*!\n * Vue-Lazyload.js v3.0.0-rc.1\n * (c) 2022 Awe <hilongjw@gmail.com>\n * Released under the MIT License.\n */\n\nimport { nextTick, reactive, defineComponent, ref, computed, onMounted, onUnmounted, createVNode, watch } from 'vue';\nfunction createCommonjsModule(fn, module) {\n  return module = {\n    exports: {}\n  }, fn(module, module.exports), module.exports;\n}\nvar assignSymbols$1 = createCommonjsModule(function (module) {\n  const toString = Object.prototype.toString;\n  const isEnumerable = Object.prototype.propertyIsEnumerable;\n  const getSymbols = Object.getOwnPropertySymbols;\n  module.exports = (target, ...args) => {\n    if (!isObject(target)) {\n      throw new TypeError('expected the first argument to be an object');\n    }\n    if (args.length === 0 || typeof Symbol !== 'function' || typeof getSymbols !== 'function') {\n      return target;\n    }\n    for (let arg of args) {\n      let names = getSymbols(arg);\n      for (let key of names) {\n        if (isEnumerable.call(arg, key)) {\n          target[key] = arg[key];\n        }\n      }\n    }\n    return target;\n  };\n  function isObject(val) {\n    return typeof val === 'function' || toString.call(val) === '[object Object]' || Array.isArray(val);\n  }\n});\nvar assignSymbols$2 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  'default': assignSymbols$1,\n  __moduleExports: assignSymbols$1\n});\nvar assignSymbols = assignSymbols$2 && assignSymbols$1 || assignSymbols$2;\nvar assignDeep = createCommonjsModule(function (module) {\n  const toString = Object.prototype.toString;\n  const isValidKey = key => {\n    return key !== '__proto__' && key !== 'constructor' && key !== 'prototype';\n  };\n  const assign = module.exports = (target, ...args) => {\n    let i = 0;\n    if (isPrimitive(target)) target = args[i++];\n    if (!target) target = {};\n    for (; i < args.length; i++) {\n      if (isObject(args[i])) {\n        for (const key of Object.keys(args[i])) {\n          if (isValidKey(key)) {\n            if (isObject(target[key]) && isObject(args[i][key])) {\n              assign(target[key], args[i][key]);\n            } else {\n              target[key] = args[i][key];\n            }\n          }\n        }\n        assignSymbols(target, args[i]);\n      }\n    }\n    return target;\n  };\n  function isObject(val) {\n    return typeof val === 'function' || toString.call(val) === '[object Object]';\n  }\n  function isPrimitive(val) {\n    return typeof val === 'object' ? val === null : typeof val !== 'function';\n  }\n});\nconst inBrowser = typeof window !== 'undefined' && window !== null;\nconst hasIntersectionObserver = checkIntersectionObserver();\nfunction checkIntersectionObserver() {\n  if (inBrowser && 'IntersectionObserver' in window && 'IntersectionObserverEntry' in window && 'intersectionRatio' in window.IntersectionObserverEntry.prototype) {\n    // Minimal polyfill for Edge 15's lack of `isIntersecting`\n    // See: https://github.com/w3c/IntersectionObserver/issues/211\n    if (!('isIntersecting' in window.IntersectionObserverEntry.prototype)) {\n      Object.defineProperty(window.IntersectionObserverEntry.prototype, 'isIntersecting', {\n        get: function () {\n          return this.intersectionRatio > 0;\n        }\n      });\n    }\n    return true;\n  }\n  return false;\n}\nconst modeType = {\n  event: 'event',\n  observer: 'observer'\n};\nfunction remove(arr, item) {\n  if (!arr.length) return;\n  const index = arr.indexOf(item);\n  if (index > -1) return arr.splice(index, 1);\n}\nfunction getBestSelectionFromSrcset(el, scale) {\n  if (el.tagName !== 'IMG' || !el.getAttribute('data-srcset')) return '';\n  let options = el.getAttribute('data-srcset').trim().split(',');\n  const result = [];\n  const container = el.parentNode;\n  const containerWidth = container.offsetWidth * scale;\n  let spaceIndex;\n  let tmpSrc;\n  let tmpWidth;\n  options.forEach(item => {\n    item = item.trim();\n    spaceIndex = item.lastIndexOf(' ');\n    if (spaceIndex === -1) {\n      tmpSrc = item;\n      tmpWidth = 99999;\n    } else {\n      tmpSrc = item.substr(0, spaceIndex);\n      tmpWidth = parseInt(item.substr(spaceIndex + 1, item.length - spaceIndex - 2), 10);\n    }\n    result.push([tmpWidth, tmpSrc]);\n  });\n  result.sort((a, b) => {\n    if (a[0] < b[0]) {\n      return 1;\n    }\n    if (a[0] > b[0]) {\n      return -1;\n    }\n    if (a[0] === b[0]) {\n      if (b[1].indexOf('.webp', b[1].length - 5) !== -1) {\n        return 1;\n      }\n      if (a[1].indexOf('.webp', a[1].length - 5) !== -1) {\n        return -1;\n      }\n    }\n    return 0;\n  });\n  let bestSelectedSrc = '';\n  let tmpOption;\n  for (let i = 0; i < result.length; i++) {\n    tmpOption = result[i];\n    bestSelectedSrc = tmpOption[1];\n    const next = result[i + 1];\n    if (next && next[0] < containerWidth) {\n      bestSelectedSrc = tmpOption[1];\n      break;\n    } else if (!next) {\n      bestSelectedSrc = tmpOption[1];\n      break;\n    }\n  }\n  return bestSelectedSrc;\n}\nconst getDPR = (scale = 1) => inBrowser ? window.devicePixelRatio || scale : scale;\n// https://developers.google.com/speed/webp/faq#how_can_i_detect_browser_support_using_javascript\nfunction supportWebp() {\n  if (!inBrowser) return false;\n  let support = true;\n  function checkWebpFeature(feature, callback) {\n    const kTestImages = {\n      lossy: 'UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA',\n      lossless: 'UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==',\n      alpha: 'UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==',\n      animation: 'UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA'\n    };\n    const img = new Image();\n    img.onload = function () {\n      const result = img.width > 0 && img.height > 0;\n      callback(result);\n    };\n    img.onerror = function () {\n      // eslint-disable-next-line node/no-callback-literal\n      callback(false);\n    };\n    img.src = 'data:image/webp;base64,' + kTestImages[feature];\n  }\n  checkWebpFeature('lossy', isSupported => {\n    support = isSupported;\n  });\n  checkWebpFeature('lossless', isSupported => {\n    support = isSupported;\n  });\n  checkWebpFeature('alpha', isSupported => {\n    support = isSupported;\n  });\n  checkWebpFeature('animation', isSupported => {\n    support = isSupported;\n  });\n  return support;\n}\nfunction throttle(action, delay) {\n  let timeout = null;\n  let lastRun = 0;\n  return function () {\n    if (timeout) {\n      return;\n    }\n    const elapsed = Date.now() - lastRun;\n    // @ts-ignore\n    const context = this;\n    const args = arguments;\n    const runCallback = function () {\n      lastRun = Date.now();\n      timeout = false;\n      action.apply(context, args);\n    };\n    if (elapsed >= delay) {\n      runCallback();\n    } else {\n      timeout = setTimeout(runCallback, delay);\n    }\n  };\n}\nfunction testSupportsPassive() {\n  if (!inBrowser) return false;\n  let support = false;\n  try {\n    const opts = Object.defineProperty({}, 'passive', {\n      get: function () {\n        support = true;\n      }\n    });\n    window.addEventListener('test', noop, opts);\n  } catch (e) {}\n  return support;\n}\nconst supportsPassive = testSupportsPassive();\nconst _ = {\n  on(el, type, func, capture = false) {\n    if (supportsPassive) {\n      el.addEventListener(type, func, {\n        capture: capture,\n        passive: true\n      });\n    } else {\n      el.addEventListener(type, func, capture);\n    }\n  },\n  off(el, type, func, capture = false) {\n    el.removeEventListener(type, func, capture);\n  }\n};\nconst loadImageAsync = (item, resolve, reject) => {\n  let image = new Image();\n  if (!item || !item.src) {\n    const err = new Error('image src is required');\n    return reject(err);\n  }\n  if (item.cors) {\n    image.crossOrigin = item.cors;\n  }\n  image.src = item.src;\n  image.onload = function () {\n    resolve({\n      naturalHeight: image.naturalHeight,\n      naturalWidth: image.naturalWidth,\n      src: image.src\n    });\n    image = null;\n  };\n  image.onerror = function (e) {\n    reject(e);\n  };\n};\n// keyof CSSStyleDeclaration\nconst style = (el, prop) => {\n  return typeof getComputedStyle !== 'undefined' ? getComputedStyle(el, null).getPropertyValue(prop) : el.style[prop];\n};\nconst overflow = el => {\n  return style(el, 'overflow') + style(el, 'overflowY') + style(el, 'overflowX');\n};\nconst scrollParent = el => {\n  if (!inBrowser) return;\n  if (!(el instanceof Element)) {\n    return window;\n  }\n  let parent = el;\n  while (parent) {\n    if (parent === document.body || parent === document.documentElement) {\n      break;\n    }\n    if (!parent.parentNode) {\n      break;\n    }\n    if (/(scroll|auto)/.test(overflow(parent))) {\n      return parent;\n    }\n    parent = parent.parentNode;\n  }\n  return window;\n};\nfunction noop() {}\nclass ImageCache {\n  constructor(max) {\n    this.max = max || 100;\n    this._caches = [];\n  }\n  has(key) {\n    return this._caches.indexOf(key) > -1;\n  }\n  add(key) {\n    if (this.has(key)) return;\n    this._caches.push(key);\n    if (this._caches.length > this.max) {\n      this.free();\n    }\n  }\n  free() {\n    this._caches.shift();\n  }\n}\n\n// el: {\n//     state,\n//     src,\n//     error,\n//     loading\n// }\nclass ReactiveListener {\n  constructor(el, src, error, loading, bindType, $parent, options, cors, elRenderer, imageCache) {\n    this.el = el;\n    this.src = src;\n    this.error = error;\n    this.loading = loading;\n    this.bindType = bindType;\n    this.attempt = 0;\n    this.cors = cors;\n    this.naturalHeight = 0;\n    this.naturalWidth = 0;\n    this.options = options;\n    this.rect = {};\n    this.$parent = $parent;\n    this.elRenderer = elRenderer;\n    this._imageCache = imageCache;\n    this.performanceData = {\n      init: Date.now(),\n      loadStart: 0,\n      loadEnd: 0\n    };\n    this.filter();\n    this.initState();\n    this.render('loading', false);\n  }\n  /*\r\n   * init listener state\r\n   * @return\r\n   */\n  initState() {\n    if ('dataset' in this.el) {\n      this.el.dataset.src = this.src;\n    } else {\n      this.el.setAttribute('data-src', this.src);\n    }\n    this.state = {\n      loading: false,\n      error: false,\n      loaded: false,\n      rendered: false\n    };\n  }\n  /*\r\n   * record performance\r\n   * @return\r\n   */\n  record(event) {\n    this.performanceData[event] = Date.now();\n  }\n  /*\r\n   * update image listener data\r\n   * @param  {String} image uri\r\n   * @param  {String} loading image uri\r\n   * @param  {String} error image uri\r\n   * @return\r\n   */\n  update(option) {\n    const oldSrc = this.src;\n    this.src = option.src;\n    this.loading = option.loading;\n    this.error = option.error;\n    this.filter();\n    if (oldSrc !== this.src) {\n      this.attempt = 0;\n      this.initState();\n    }\n  }\n  /*\r\n   * get el node rect\r\n   * @return\r\n   */\n  getRect() {\n    this.rect = this.el.getBoundingClientRect();\n  }\n  /*\r\n   * check el is in view\r\n   * @return {Boolean} el is in view\r\n   */\n  checkInView() {\n    this.getRect();\n    return this.rect.top < window.innerHeight * this.options.preLoad && this.rect.bottom > this.options.preLoadTop && this.rect.left < window.innerWidth * this.options.preLoad && this.rect.right > 0;\n  }\n  /*\r\n   * listener filter\r\n   */\n  filter() {\n    for (const key in this.options.filter) {\n      this.options.filter[key](this, this.options);\n    }\n  }\n  /*\r\n   * render loading first\r\n   * @params cb:Function\r\n   * @return\r\n   */\n  renderLoading(cb) {\n    this.state.loading = true;\n    loadImageAsync({\n      src: this.loading,\n      cors: this.cors\n    }, () => {\n      this.render('loading', false);\n      this.state.loading = false;\n      cb();\n    }, () => {\n      // handler `loading image` load failed\n      cb();\n      this.state.loading = false;\n      if (!this.options.silent) console.warn(`VueLazyload log: load failed with loading image(${this.loading})`);\n    });\n  }\n  /*\r\n   * try load image and  render it\r\n   * @return\r\n   */\n  load(onFinish = noop) {\n    if (this.attempt > this.options.attempt - 1 && this.state.error) {\n      if (!this.options.silent) console.log(`VueLazyload log: ${this.src} tried too more than ${this.options.attempt} times`);\n      onFinish();\n      return;\n    }\n    if (this.state.rendered && this.state.loaded) return;\n    if (this._imageCache.has(this.src)) {\n      this.state.loaded = true;\n      this.render('loaded', true);\n      this.state.rendered = true;\n      return onFinish();\n    }\n    this.renderLoading(() => {\n      this.attempt++;\n      this.options.adapter.beforeLoad && this.options.adapter.beforeLoad(this, this.options);\n      this.record('loadStart');\n      loadImageAsync({\n        src: this.src,\n        cors: this.cors\n      }, data => {\n        this.naturalHeight = data.naturalHeight;\n        this.naturalWidth = data.naturalWidth;\n        this.state.loaded = true;\n        this.state.error = false;\n        this.record('loadEnd');\n        this.render('loaded', false);\n        this.state.rendered = true;\n        this._imageCache.add(this.src);\n        onFinish();\n      }, err => {\n        !this.options.silent && console.error(err);\n        this.state.error = true;\n        this.state.loaded = false;\n        this.render('error', false);\n      });\n    });\n  }\n  /*\r\n   * render image\r\n   * @param  {String} state to render // ['loading', 'src', 'error']\r\n   * @param  {String} is form cache\r\n   * @return\r\n   */\n  render(state, cache) {\n    this.elRenderer(this, state, cache);\n  }\n  /*\r\n   * output performance data\r\n   * @return {Object} performance data\r\n   */\n  performance() {\n    let state = 'loading';\n    let time = 0;\n    if (this.state.loaded) {\n      state = 'loaded';\n      time = (this.performanceData.loadEnd - this.performanceData.loadStart) / 1000;\n    }\n    if (this.state.error) state = 'error';\n    return {\n      src: this.src,\n      state,\n      time\n    };\n  }\n  /*\r\n   * $destroy\r\n   * @return\r\n   */\n  $destroy() {\n    this.el = null;\n    this.src = '';\n    this.error = null;\n    this.loading = '';\n    this.bindType = null;\n    this.attempt = 0;\n  }\n}\nconst DEFAULT_URL = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\nconst DEFAULT_EVENTS = ['scroll', 'wheel', 'mousewheel', 'resize', 'animationend', 'transitionend', 'touchmove'];\nconst DEFAULT_OBSERVER_OPTIONS = {\n  rootMargin: '0px',\n  threshold: 0\n};\nclass Lazy {\n  constructor({\n    preLoad,\n    error,\n    throttleWait,\n    preLoadTop,\n    dispatchEvent,\n    loading,\n    attempt,\n    silent = true,\n    scale,\n    listenEvents,\n    filter,\n    adapter,\n    observer,\n    observerOptions\n  }) {\n    this.version = '\"3.0.0-rc.1\"';\n    this.lazyContainerMananger = null;\n    this.mode = modeType.event;\n    this.ListenerQueue = [];\n    this.TargetIndex = 0;\n    this.TargetQueue = [];\n    this.options = {\n      silent: silent,\n      dispatchEvent: !!dispatchEvent,\n      throttleWait: throttleWait || 200,\n      preLoad: preLoad || 1.3,\n      preLoadTop: preLoadTop || 0,\n      error: error || DEFAULT_URL,\n      loading: loading || DEFAULT_URL,\n      attempt: attempt || 3,\n      scale: scale || getDPR(scale),\n      listenEvents: listenEvents || DEFAULT_EVENTS,\n      supportWebp: supportWebp(),\n      filter: filter || {},\n      adapter: adapter || {},\n      observer: !!observer,\n      observerOptions: observerOptions || DEFAULT_OBSERVER_OPTIONS\n    };\n    this._initEvent();\n    this._imageCache = new ImageCache(200);\n    this.lazyLoadHandler = throttle(this._lazyLoadHandler.bind(this), this.options.throttleWait);\n    this.setMode(this.options.observer ? modeType.observer : modeType.event);\n  }\n  /**\r\n   * output listener's load performance\r\n   * @return {Array}\r\n   */\n  performance() {\n    const list = [];\n    this.ListenerQueue.map(item => list.push(item.performance()));\n    return list;\n  }\n  /*\r\n   * add lazy component to queue\r\n   * @param  {Vue} vm lazy component instance\r\n   * @return\r\n   */\n  addLazyBox(vm) {\n    this.ListenerQueue.push(vm);\n    if (inBrowser) {\n      this._addListenerTarget(window);\n      this._observer && this._observer.observe(vm.el);\n      if (vm.$el && vm.$el.parentNode) {\n        this._addListenerTarget(vm.$el.parentNode);\n      }\n    }\n  }\n  /*\r\n   * add image listener to queue\r\n   * @param  {DOM} el\r\n   * @param  {object} binding vue directive binding\r\n   * @param  {vnode} vnode vue directive vnode\r\n   * @return\r\n   */\n  add(el, binding, vnode) {\n    if (this.ListenerQueue.some(item => item.el === el)) {\n      this.update(el, binding);\n      return nextTick(this.lazyLoadHandler);\n    }\n    let {\n      src,\n      loading,\n      error,\n      cors\n    } = this._valueFormatter(binding.value);\n    nextTick(() => {\n      src = getBestSelectionFromSrcset(el, this.options.scale) || src;\n      this._observer && this._observer.observe(el);\n      const container = Object.keys(binding.modifiers)[0];\n      let $parent;\n      if (container) {\n        $parent = binding.instance.$refs[container];\n        // if there is container passed in, try ref first, then fallback to getElementById to support the original usage\n        $parent = $parent ? $parent.el || $parent : document.getElementById(container);\n      }\n      if (!$parent) {\n        $parent = scrollParent(el);\n      }\n      const newListener = new ReactiveListener(el, src, error, loading, binding.arg, $parent, this.options, cors, this._elRenderer.bind(this), this._imageCache);\n      this.ListenerQueue.push(newListener);\n      if (inBrowser) {\n        this._addListenerTarget(window);\n        this._addListenerTarget($parent);\n      }\n      nextTick(this.lazyLoadHandler);\n    });\n  }\n  /**\r\n  * update image src\r\n  * @param  {DOM} el\r\n  * @param  {object} vue directive binding\r\n  * @return\r\n  */\n  update(el, binding, vnode) {\n    let {\n      src,\n      loading,\n      error\n    } = this._valueFormatter(binding.value);\n    src = getBestSelectionFromSrcset(el, this.options.scale) || src;\n    const exist = this.ListenerQueue.find(item => item.el === el);\n    if (!exist) {\n      if (el.getAttribute('lazy') !== 'loaded' || el.dataset.src !== src) {\n        this.add(el, binding, vnode);\n      }\n    } else {\n      exist.update({\n        src,\n        loading,\n        error\n      });\n    }\n    if (this._observer) {\n      this._observer.unobserve(el);\n      this._observer.observe(el);\n    }\n    nextTick(this.lazyLoadHandler);\n  }\n  /**\r\n  * remove listener form list\r\n  * @param  {DOM} el\r\n  * @return\r\n  */\n  remove(el) {\n    if (!el) return;\n    this._observer && this._observer.unobserve(el);\n    const existItem = this.ListenerQueue.find(item => item.el === el);\n    if (existItem) {\n      this._removeListenerTarget(existItem.$parent);\n      this._removeListenerTarget(window);\n      remove(this.ListenerQueue, existItem);\n      existItem.$destroy && existItem.$destroy();\n    }\n  }\n  /*\r\n   * remove lazy components form list\r\n   * @param  {Vue} vm Vue instance\r\n   * @return\r\n   */\n  removeComponent(vm) {\n    if (!vm) return;\n    remove(this.ListenerQueue, vm);\n    this._observer && this._observer.unobserve(vm.el);\n    if (vm.$parent && vm.$el.parentNode) {\n      this._removeListenerTarget(vm.$el.parentNode);\n    }\n    this._removeListenerTarget(window);\n  }\n  setMode(mode) {\n    if (!hasIntersectionObserver && mode === modeType.observer) {\n      mode = modeType.event;\n    }\n    this.mode = mode; // event or observer\n    if (mode === modeType.event) {\n      if (this._observer) {\n        this.ListenerQueue.forEach(listener => {\n          this._observer.unobserve(listener.el);\n        });\n        this._observer = null;\n      }\n      this.TargetQueue.forEach(target => {\n        this._initListen(target.el, true);\n      });\n    } else {\n      this.TargetQueue.forEach(target => {\n        this._initListen(target.el, false);\n      });\n      this._initIntersectionObserver();\n    }\n  }\n  /*\r\n  *** Private functions ***\r\n  */\n  /*\r\n   * add listener target\r\n   * @param  {DOM} el listener target\r\n   * @return\r\n   */\n  _addListenerTarget(el) {\n    if (!el) return;\n    let target = this.TargetQueue.find(target => target.el === el);\n    if (!target) {\n      target = {\n        el: el,\n        id: ++this.TargetIndex,\n        childrenCount: 1,\n        listened: true\n      };\n      this.mode === modeType.event && this._initListen(target.el, true);\n      this.TargetQueue.push(target);\n    } else {\n      target.childrenCount++;\n    }\n    return this.TargetIndex;\n  }\n  /*\r\n   * remove listener target or reduce target childrenCount\r\n   * @param  {DOM} el or window\r\n   * @return\r\n   */\n  _removeListenerTarget(el) {\n    this.TargetQueue.forEach((target, index) => {\n      if (target.el === el) {\n        target.childrenCount--;\n        if (!target.childrenCount) {\n          this._initListen(target.el, false);\n          this.TargetQueue.splice(index, 1);\n          target = null;\n        }\n      }\n    });\n  }\n  /*\r\n   * add or remove eventlistener\r\n   * @param  {DOM} el DOM or Window\r\n   * @param  {boolean} start flag\r\n   * @return\r\n   */\n  _initListen(el, start) {\n    this.options.listenEvents.forEach(evt => _[start ? 'on' : 'off'](el, evt, this.lazyLoadHandler));\n  }\n  _initEvent() {\n    this.Event = {\n      listeners: {\n        loading: [],\n        loaded: [],\n        error: []\n      }\n    };\n    this.$on = (event, func) => {\n      if (!this.Event.listeners[event]) this.Event.listeners[event] = [];\n      this.Event.listeners[event].push(func);\n    };\n    this.$once = (event, func) => {\n      const vm = this;\n      function on() {\n        vm.$off(event, on);\n        func.apply(vm, arguments);\n      }\n      this.$on(event, on);\n    };\n    this.$off = (event, func) => {\n      if (!func) {\n        if (!this.Event.listeners[event]) return;\n        this.Event.listeners[event].length = 0;\n        return;\n      }\n      remove(this.Event.listeners[event], func);\n    };\n    this.$emit = (event, context, inCache) => {\n      if (!this.Event.listeners[event]) return;\n      this.Event.listeners[event].forEach(func => func(context, inCache));\n    };\n  }\n  /**\r\n   * find nodes which in viewport and trigger load\r\n   * @return\r\n   */\n  _lazyLoadHandler() {\n    const freeList = [];\n    this.ListenerQueue.forEach((listener, index) => {\n      if (!listener.el || !listener.el.parentNode || listener.state.loaded) {\n        freeList.push(listener);\n      }\n      const catIn = listener.checkInView();\n      if (!catIn) return;\n      if (!listener.state.loaded) listener.load();\n    });\n    freeList.forEach(item => {\n      remove(this.ListenerQueue, item);\n      item.$destroy && item.$destroy();\n    });\n  }\n  /**\r\n  * init IntersectionObserver\r\n  * set mode to observer\r\n  * @return\r\n  */\n  _initIntersectionObserver() {\n    if (!hasIntersectionObserver) return;\n    this._observer = new IntersectionObserver(this._observerHandler.bind(this), this.options.observerOptions);\n    if (this.ListenerQueue.length) {\n      this.ListenerQueue.forEach(listener => {\n        this._observer.observe(listener.el);\n      });\n    }\n  }\n  /**\r\n  * init IntersectionObserver\r\n  * @param {Array<IntersectionObserverEntry>} entries\r\n  * @return\r\n  */\n  _observerHandler(entries) {\n    entries.forEach(entry => {\n      if (entry.isIntersecting) {\n        this.ListenerQueue.forEach(listener => {\n          if (listener.el === entry.target) {\n            if (listener.state.loaded) return this._observer.unobserve(listener.el);\n            listener.load();\n          }\n        });\n      }\n    });\n  }\n  /**\r\n  * set element attribute with image'url and state\r\n  * @param  {ReactiveListener} lazyload listener object\r\n  * @param  {TeventType} state will be rendered\r\n  * @param  {bool} inCache  is rendered from cache\r\n  * @return\r\n  */\n  _elRenderer(listener, state, cache) {\n    if (!listener.el) return;\n    const {\n      el,\n      bindType\n    } = listener;\n    let src;\n    switch (state) {\n      case 'loading':\n        src = listener.loading;\n        break;\n      case 'error':\n        src = listener.error;\n        break;\n      default:\n        src = listener.src;\n        break;\n    }\n    if (bindType) {\n      // @ts-ignore\n      el.style[bindType] = 'url(\"' + src + '\")';\n    } else if (el.getAttribute('src') !== src) {\n      el.setAttribute('src', src);\n    }\n    el.setAttribute('lazy', state);\n    this.$emit(state, listener, cache);\n    this.options.adapter[state] && this.options.adapter[state](listener, this.options);\n    if (this.options.dispatchEvent) {\n      const event = new CustomEvent(state, {\n        detail: listener\n      });\n      el.dispatchEvent(event);\n    }\n  }\n  _valueFormatter(value) {\n    if (typeof value === 'object') {\n      if (!value.src && !this.options.silent) console.error('Vue Lazyload warning: miss src with ' + value);\n      return {\n        src: value.src,\n        loading: value.loading || this.options.loading,\n        error: value.error || this.options.error,\n        cors: this.options.cors\n      };\n    }\n    return {\n      src: value,\n      loading: this.options.loading,\n      error: this.options.error,\n      cors: this.options.cors\n    };\n  }\n}\nconst useCheckInView = (el, preLoad) => {\n  let rect = reactive({});\n  const getRect = () => {\n    rect = el.value.getBoundingClientRect();\n  };\n  const checkInView = () => {\n    getRect();\n    return inBrowser && rect.top < window.innerHeight * preLoad && rect.bottom > 0 && rect.left < window.innerWidth * preLoad && rect.right > 0;\n  };\n  return {\n    rect,\n    checkInView\n  };\n};\nvar LazyComponent = lazy => {\n  return defineComponent({\n    props: {\n      tag: {\n        type: String,\n        default: 'div'\n      }\n    },\n    emits: ['show'],\n    setup(props, {\n      emit,\n      slots\n    }) {\n      const el = ref();\n      const state = reactive({\n        loaded: false,\n        error: false,\n        attempt: 0\n      });\n      const show = ref(false);\n      const {\n        rect,\n        checkInView\n      } = useCheckInView(el, lazy.options.preLoad);\n      const load = () => {\n        show.value = true;\n        state.loaded = true;\n        emit('show', show.value);\n      };\n      const vm = computed(() => {\n        return {\n          el: el.value,\n          rect,\n          checkInView,\n          load,\n          state\n        };\n      });\n      onMounted(() => {\n        lazy.addLazyBox(vm.value);\n        lazy.lazyLoadHandler();\n      });\n      onUnmounted(() => {\n        lazy.removeComponent(vm.value);\n      });\n      return () => {\n        var _a;\n        return createVNode(props.tag, {\n          ref: el\n        }, [show.value && ((_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots))]);\n      };\n    }\n  });\n};\nclass LazyContainerMananger {\n  constructor(lazy) {\n    this.lazy = lazy;\n    lazy.lazyContainerMananger = this;\n    this._queue = [];\n  }\n  bind(el, binding, vnode) {\n    const container = new LazyContainer(el, binding, vnode, this.lazy);\n    this._queue.push(container);\n  }\n  update(el, binding, vnode) {\n    const container = this._queue.find(item => item.el === el);\n    if (!container) return;\n    container.update(el, binding);\n  }\n  unbind(el, binding, vnode) {\n    const container = this._queue.find(item => item.el === el);\n    if (!container) return;\n    container.clear();\n    remove(this._queue, container);\n  }\n}\nconst defaultOptions = {\n  selector: 'img',\n  error: '',\n  loading: ''\n};\nclass LazyContainer {\n  constructor(el, binding, vnode, lazy) {\n    this.el = el;\n    this.vnode = vnode;\n    this.binding = binding;\n    this.options = {};\n    this.lazy = lazy;\n    this._queue = [];\n    this.update(el, binding);\n  }\n  update(el, binding) {\n    this.el = el;\n    this.options = assignDeep({}, defaultOptions, binding.value);\n    const imgs = this.getImgs();\n    imgs.forEach(el => {\n      this.lazy.add(el, assignDeep({}, this.binding, {\n        value: {\n          src: el.getAttribute('data-src') || el.dataset.src,\n          error: el.getAttribute('data-error') || el.dataset.error || this.options.error,\n          loading: el.getAttribute('data-loading') || el.dataset.loading || this.options.loading\n        }\n      }), this.vnode);\n    });\n  }\n  getImgs() {\n    return Array.from(this.el.querySelectorAll(this.options.selector));\n  }\n  clear() {\n    const imgs = this.getImgs();\n    imgs.forEach(el => this.lazy.remove(el));\n    this.vnode = null;\n    this.binding = null;\n    this.lazy = null;\n  }\n}\nvar LazyImage = lazy => {\n  return defineComponent({\n    setup(props, {\n      slots\n    }) {\n      const el = ref();\n      const options = reactive({\n        src: '',\n        error: '',\n        loading: '',\n        attempt: lazy.options.attempt\n      });\n      const state = reactive({\n        loaded: false,\n        error: false,\n        attempt: 0\n      });\n      const {\n        rect,\n        checkInView\n      } = useCheckInView(el, lazy.options.preLoad);\n      const renderSrc = ref('');\n      const load = (onFinish = noop) => {\n        if (state.attempt > options.attempt - 1 && state.error) {\n          if (!lazy.options.silent) console.log(`VueLazyload log: ${options.src} tried too more than ${options.attempt} times`);\n          return onFinish();\n        }\n        const src = options.src;\n        loadImageAsync({\n          src\n        }, ({\n          src\n        }) => {\n          renderSrc.value = src;\n          state.loaded = true;\n        }, () => {\n          state.attempt++;\n          renderSrc.value = options.error;\n          state.error = true;\n        });\n      };\n      const vm = computed(() => {\n        return {\n          el: el.value,\n          rect,\n          checkInView,\n          load,\n          state\n        };\n      });\n      onMounted(() => {\n        lazy.addLazyBox(vm.value);\n        lazy.lazyLoadHandler();\n      });\n      onUnmounted(() => {\n        lazy.removeComponent(vm.value);\n      });\n      const init = () => {\n        const {\n          src,\n          loading,\n          error\n        } = lazy._valueFormatter(props.src);\n        state.loaded = false;\n        options.src = src;\n        options.error = error;\n        options.loading = loading;\n        renderSrc.value = options.loading;\n      };\n      watch(() => props.src, () => {\n        init();\n        lazy.addLazyBox(vm.value);\n        lazy.lazyLoadHandler();\n      }, {\n        immediate: true\n      });\n      return () => {\n        var _a;\n        return createVNode(props.tag || 'img', {\n          src: renderSrc.value,\n          ref: el\n        }, [(_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots)]);\n      };\n    }\n  });\n};\nvar index = {\n  /*\r\n  * install function\r\n  * @param  {Vue} Vue\r\n  * @param  {object} options lazyload options\r\n  */\n  install(Vue, options = {}) {\n    const lazy = new Lazy(options);\n    const lazyContainer = new LazyContainerMananger(lazy);\n    const vueVersion = Number(Vue.version.split('.')[0]);\n    if (vueVersion < 3) return new Error('Vue version at least 3.0');\n    Vue.config.globalProperties.$Lazyload = lazy;\n    Vue.provide('Lazyload', lazy);\n    if (options.lazyComponent) {\n      Vue.component('lazy-component', LazyComponent(lazy));\n    }\n    if (options.lazyImage) {\n      Vue.component('lazy-image', LazyImage(lazy));\n    }\n    Vue.directive('lazy', {\n      beforeMount: lazy.add.bind(lazy),\n      beforeUpdate: lazy.update.bind(lazy),\n      updated: lazy.lazyLoadHandler.bind(lazy),\n      unmounted: lazy.remove.bind(lazy)\n    });\n    Vue.directive('lazy-container', {\n      beforeMount: lazyContainer.bind.bind(lazyContainer),\n      updated: lazyContainer.update.bind(lazyContainer),\n      unmounted: lazyContainer.unbind.bind(lazyContainer)\n    });\n  }\n};\nexport { index as default };","map":{"version":3,"names":["nextTick","reactive","defineComponent","ref","computed","onMounted","onUnmounted","createVNode","watch","createCommonjsModule","fn","module","exports","assignSymbols$1","toString","Object","prototype","isEnumerable","propertyIsEnumerable","getSymbols","getOwnPropertySymbols","target","args","isObject","TypeError","length","Symbol","arg","names","key","call","val","Array","isArray","assignSymbols$2","freeze","__proto__","__moduleExports","assignSymbols","assignDeep","isValidKey","assign","i","isPrimitive","keys","inBrowser","window","hasIntersectionObserver","checkIntersectionObserver","IntersectionObserverEntry","defineProperty","get","intersectionRatio","modeType","event","observer","remove","arr","item","index","indexOf","splice","getBestSelectionFromSrcset","el","scale","tagName","getAttribute","options","trim","split","result","container","parentNode","containerWidth","offsetWidth","spaceIndex","tmpSrc","tmpWidth","forEach","lastIndexOf","substr","parseInt","push","sort","a","b","bestSelectedSrc","tmpOption","next","getDPR","devicePixelRatio","supportWebp","support","checkWebpFeature","feature","callback","kTestImages","lossy","lossless","alpha","animation","img","Image","onload","width","height","onerror","src","isSupported","throttle","action","delay","timeout","lastRun","elapsed","Date","now","context","arguments","runCallback","apply","setTimeout","testSupportsPassive","opts","addEventListener","noop","e","supportsPassive","_","on","type","func","capture","passive","off","removeEventListener","loadImageAsync","resolve","reject","image","err","Error","cors","crossOrigin","naturalHeight","naturalWidth","style","prop","getComputedStyle","getPropertyValue","overflow","scrollParent","Element","parent","document","body","documentElement","test","ImageCache","constructor","max","_caches","has","add","free","shift","ReactiveListener","error","loading","bindType","$parent","elRenderer","imageCache","attempt","rect","_imageCache","performanceData","init","loadStart","loadEnd","filter","initState","render","dataset","setAttribute","state","loaded","rendered","record","update","option","oldSrc","getRect","getBoundingClientRect","checkInView","top","innerHeight","preLoad","bottom","preLoadTop","left","innerWidth","right","renderLoading","cb","silent","console","warn","load","onFinish","log","adapter","beforeLoad","data","cache","performance","time","$destroy","DEFAULT_URL","DEFAULT_EVENTS","DEFAULT_OBSERVER_OPTIONS","rootMargin","threshold","Lazy","throttleWait","dispatchEvent","listenEvents","observerOptions","version","lazyContainerMananger","mode","ListenerQueue","TargetIndex","TargetQueue","_initEvent","lazyLoadHandler","_lazyLoadHandler","bind","setMode","list","map","addLazyBox","vm","_addListenerTarget","_observer","observe","$el","binding","vnode","some","_valueFormatter","value","modifiers","instance","$refs","getElementById","newListener","_elRenderer","exist","find","unobserve","existItem","_removeListenerTarget","removeComponent","listener","_initListen","_initIntersectionObserver","id","childrenCount","listened","start","evt","Event","listeners","$on","$once","$off","$emit","inCache","freeList","catIn","IntersectionObserver","_observerHandler","entries","entry","isIntersecting","CustomEvent","detail","useCheckInView","LazyComponent","lazy","props","tag","String","default","emits","setup","emit","slots","show","_a","LazyContainerMananger","_queue","LazyContainer","unbind","clear","defaultOptions","selector","imgs","getImgs","from","querySelectorAll","LazyImage","renderSrc","immediate","install","Vue","lazyContainer","vueVersion","Number","config","globalProperties","$Lazyload","provide","lazyComponent","component","lazyImage","directive","beforeMount","beforeUpdate","updated","unmounted"],"sources":["C:/webFront/photo-show/node_modules/vue-lazyload/vue-lazyload.esm.js"],"sourcesContent":["/*!\n * Vue-Lazyload.js v3.0.0-rc.1\n * (c) 2022 Awe <hilongjw@gmail.com>\n * Released under the MIT License.\n */\n\nimport { nextTick, reactive, defineComponent, ref, computed, onMounted, onUnmounted, createVNode, watch } from 'vue';\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar assignSymbols$1 = createCommonjsModule(function (module) {\n\n  const toString = Object.prototype.toString;\n  const isEnumerable = Object.prototype.propertyIsEnumerable;\n  const getSymbols = Object.getOwnPropertySymbols;\n\n  module.exports = (target, ...args) => {\n    if (!isObject(target)) {\n      throw new TypeError('expected the first argument to be an object');\n    }\n\n    if (args.length === 0 || typeof Symbol !== 'function' || typeof getSymbols !== 'function') {\n      return target;\n    }\n\n    for (let arg of args) {\n      let names = getSymbols(arg);\n\n      for (let key of names) {\n        if (isEnumerable.call(arg, key)) {\n          target[key] = arg[key];\n        }\n      }\n    }\n    return target;\n  };\n\n  function isObject(val) {\n    return typeof val === 'function' || toString.call(val) === '[object Object]' || Array.isArray(val);\n  }\n});\n\nvar assignSymbols$2 = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\t'default': assignSymbols$1,\n\t__moduleExports: assignSymbols$1\n});\n\nvar assignSymbols = ( assignSymbols$2 && assignSymbols$1 ) || assignSymbols$2;\n\nvar assignDeep = createCommonjsModule(function (module) {\n\n  const toString = Object.prototype.toString;\n\n  const isValidKey = key => {\n    return key !== '__proto__' && key !== 'constructor' && key !== 'prototype';\n  };\n\n  const assign = module.exports = (target, ...args) => {\n    let i = 0;\n    if (isPrimitive(target)) target = args[i++];\n    if (!target) target = {};\n    for (; i < args.length; i++) {\n      if (isObject(args[i])) {\n        for (const key of Object.keys(args[i])) {\n          if (isValidKey(key)) {\n            if (isObject(target[key]) && isObject(args[i][key])) {\n              assign(target[key], args[i][key]);\n            } else {\n              target[key] = args[i][key];\n            }\n          }\n        }\n        assignSymbols(target, args[i]);\n      }\n    }\n    return target;\n  };\n\n  function isObject(val) {\n    return typeof val === 'function' || toString.call(val) === '[object Object]';\n  }\n\n  function isPrimitive(val) {\n    return typeof val === 'object' ? val === null : typeof val !== 'function';\n  }\n});\n\nconst inBrowser = typeof window !== 'undefined' && window !== null;\nconst hasIntersectionObserver = checkIntersectionObserver();\nfunction checkIntersectionObserver() {\n    if (inBrowser && 'IntersectionObserver' in window && 'IntersectionObserverEntry' in window && 'intersectionRatio' in window.IntersectionObserverEntry.prototype) {\n        // Minimal polyfill for Edge 15's lack of `isIntersecting`\n        // See: https://github.com/w3c/IntersectionObserver/issues/211\n        if (!('isIntersecting' in window.IntersectionObserverEntry.prototype)) {\n            Object.defineProperty(window.IntersectionObserverEntry.prototype, 'isIntersecting', {\n                get: function () {\n                    return this.intersectionRatio > 0;\n                }\n            });\n        }\n        return true;\n    }\n    return false;\n}\nconst modeType = {\n    event: 'event',\n    observer: 'observer'\n};\nfunction remove(arr, item) {\n    if (!arr.length) return;\n    const index = arr.indexOf(item);\n    if (index > -1) return arr.splice(index, 1);\n}\nfunction getBestSelectionFromSrcset(el, scale) {\n    if (el.tagName !== 'IMG' || !el.getAttribute('data-srcset')) return '';\n    let options = el.getAttribute('data-srcset').trim().split(',');\n    const result = [];\n    const container = el.parentNode;\n    const containerWidth = container.offsetWidth * scale;\n    let spaceIndex;\n    let tmpSrc;\n    let tmpWidth;\n    options.forEach(item => {\n        item = item.trim();\n        spaceIndex = item.lastIndexOf(' ');\n        if (spaceIndex === -1) {\n            tmpSrc = item;\n            tmpWidth = 99999;\n        } else {\n            tmpSrc = item.substr(0, spaceIndex);\n            tmpWidth = parseInt(item.substr(spaceIndex + 1, item.length - spaceIndex - 2), 10);\n        }\n        result.push([tmpWidth, tmpSrc]);\n    });\n    result.sort((a, b) => {\n        if (a[0] < b[0]) {\n            return 1;\n        }\n        if (a[0] > b[0]) {\n            return -1;\n        }\n        if (a[0] === b[0]) {\n            if (b[1].indexOf('.webp', b[1].length - 5) !== -1) {\n                return 1;\n            }\n            if (a[1].indexOf('.webp', a[1].length - 5) !== -1) {\n                return -1;\n            }\n        }\n        return 0;\n    });\n    let bestSelectedSrc = '';\n    let tmpOption;\n    for (let i = 0; i < result.length; i++) {\n        tmpOption = result[i];\n        bestSelectedSrc = tmpOption[1];\n        const next = result[i + 1];\n        if (next && next[0] < containerWidth) {\n            bestSelectedSrc = tmpOption[1];\n            break;\n        } else if (!next) {\n            bestSelectedSrc = tmpOption[1];\n            break;\n        }\n    }\n    return bestSelectedSrc;\n}\nconst getDPR = (scale = 1) => inBrowser ? window.devicePixelRatio || scale : scale;\n// https://developers.google.com/speed/webp/faq#how_can_i_detect_browser_support_using_javascript\nfunction supportWebp() {\n    if (!inBrowser) return false;\n    let support = true;\n    function checkWebpFeature(feature, callback) {\n        const kTestImages = {\n            lossy: 'UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA',\n            lossless: 'UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==',\n            alpha: 'UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==',\n            animation: 'UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA'\n        };\n        const img = new Image();\n        img.onload = function () {\n            const result = img.width > 0 && img.height > 0;\n            callback(result);\n        };\n        img.onerror = function () {\n            // eslint-disable-next-line node/no-callback-literal\n            callback(false);\n        };\n        img.src = 'data:image/webp;base64,' + kTestImages[feature];\n    }\n    checkWebpFeature('lossy', isSupported => {\n        support = isSupported;\n    });\n    checkWebpFeature('lossless', isSupported => {\n        support = isSupported;\n    });\n    checkWebpFeature('alpha', isSupported => {\n        support = isSupported;\n    });\n    checkWebpFeature('animation', isSupported => {\n        support = isSupported;\n    });\n    return support;\n}\nfunction throttle(action, delay) {\n    let timeout = null;\n    let lastRun = 0;\n    return function () {\n        if (timeout) {\n            return;\n        }\n        const elapsed = Date.now() - lastRun;\n        // @ts-ignore\n        const context = this;\n        const args = arguments;\n        const runCallback = function () {\n            lastRun = Date.now();\n            timeout = false;\n            action.apply(context, args);\n        };\n        if (elapsed >= delay) {\n            runCallback();\n        } else {\n            timeout = setTimeout(runCallback, delay);\n        }\n    };\n}\nfunction testSupportsPassive() {\n    if (!inBrowser) return false;\n    let support = false;\n    try {\n        const opts = Object.defineProperty({}, 'passive', {\n            get: function () {\n                support = true;\n            }\n        });\n        window.addEventListener('test', noop, opts);\n    } catch (e) {}\n    return support;\n}\nconst supportsPassive = testSupportsPassive();\nconst _ = {\n    on(el, type, func, capture = false) {\n        if (supportsPassive) {\n            el.addEventListener(type, func, {\n                capture: capture,\n                passive: true\n            });\n        } else {\n            el.addEventListener(type, func, capture);\n        }\n    },\n    off(el, type, func, capture = false) {\n        el.removeEventListener(type, func, capture);\n    }\n};\nconst loadImageAsync = (item, resolve, reject) => {\n    let image = new Image();\n    if (!item || !item.src) {\n        const err = new Error('image src is required');\n        return reject(err);\n    }\n    if (item.cors) {\n        image.crossOrigin = item.cors;\n    }\n    image.src = item.src;\n    image.onload = function () {\n        resolve({\n            naturalHeight: image.naturalHeight,\n            naturalWidth: image.naturalWidth,\n            src: image.src\n        });\n        image = null;\n    };\n    image.onerror = function (e) {\n        reject(e);\n    };\n};\n// keyof CSSStyleDeclaration\nconst style = (el, prop) => {\n    return typeof getComputedStyle !== 'undefined' ? getComputedStyle(el, null).getPropertyValue(prop) : el.style[prop];\n};\nconst overflow = el => {\n    return style(el, 'overflow') + style(el, 'overflowY') + style(el, 'overflowX');\n};\nconst scrollParent = el => {\n    if (!inBrowser) return;\n    if (!(el instanceof Element)) {\n        return window;\n    }\n    let parent = el;\n    while (parent) {\n        if (parent === document.body || parent === document.documentElement) {\n            break;\n        }\n        if (!parent.parentNode) {\n            break;\n        }\n        if (/(scroll|auto)/.test(overflow(parent))) {\n            return parent;\n        }\n        parent = parent.parentNode;\n    }\n    return window;\n};\nfunction noop() {}\nclass ImageCache {\n    constructor(max) {\n        this.max = max || 100;\n        this._caches = [];\n    }\n    has(key) {\n        return this._caches.indexOf(key) > -1;\n    }\n    add(key) {\n        if (this.has(key)) return;\n        this._caches.push(key);\n        if (this._caches.length > this.max) {\n            this.free();\n        }\n    }\n    free() {\n        this._caches.shift();\n    }\n}\n\n// el: {\n//     state,\n//     src,\n//     error,\n//     loading\n// }\nclass ReactiveListener {\n    constructor(el, src, error, loading, bindType, $parent, options, cors, elRenderer, imageCache) {\n        this.el = el;\n        this.src = src;\n        this.error = error;\n        this.loading = loading;\n        this.bindType = bindType;\n        this.attempt = 0;\n        this.cors = cors;\n        this.naturalHeight = 0;\n        this.naturalWidth = 0;\n        this.options = options;\n        this.rect = {};\n        this.$parent = $parent;\n        this.elRenderer = elRenderer;\n        this._imageCache = imageCache;\n        this.performanceData = {\n            init: Date.now(),\n            loadStart: 0,\n            loadEnd: 0\n        };\n        this.filter();\n        this.initState();\n        this.render('loading', false);\n    }\n    /*\r\n     * init listener state\r\n     * @return\r\n     */\n    initState() {\n        if ('dataset' in this.el) {\n            this.el.dataset.src = this.src;\n        } else {\n            this.el.setAttribute('data-src', this.src);\n        }\n        this.state = {\n            loading: false,\n            error: false,\n            loaded: false,\n            rendered: false\n        };\n    }\n    /*\r\n     * record performance\r\n     * @return\r\n     */\n    record(event) {\n        this.performanceData[event] = Date.now();\n    }\n    /*\r\n     * update image listener data\r\n     * @param  {String} image uri\r\n     * @param  {String} loading image uri\r\n     * @param  {String} error image uri\r\n     * @return\r\n     */\n    update(option) {\n        const oldSrc = this.src;\n        this.src = option.src;\n        this.loading = option.loading;\n        this.error = option.error;\n        this.filter();\n        if (oldSrc !== this.src) {\n            this.attempt = 0;\n            this.initState();\n        }\n    }\n    /*\r\n     * get el node rect\r\n     * @return\r\n     */\n    getRect() {\n        this.rect = this.el.getBoundingClientRect();\n    }\n    /*\r\n     * check el is in view\r\n     * @return {Boolean} el is in view\r\n     */\n    checkInView() {\n        this.getRect();\n        return this.rect.top < window.innerHeight * this.options.preLoad && this.rect.bottom > this.options.preLoadTop && this.rect.left < window.innerWidth * this.options.preLoad && this.rect.right > 0;\n    }\n    /*\r\n     * listener filter\r\n     */\n    filter() {\n        for (const key in this.options.filter) {\n            this.options.filter[key](this, this.options);\n        }\n    }\n    /*\r\n     * render loading first\r\n     * @params cb:Function\r\n     * @return\r\n     */\n    renderLoading(cb) {\n        this.state.loading = true;\n        loadImageAsync({\n            src: this.loading,\n            cors: this.cors\n        }, () => {\n            this.render('loading', false);\n            this.state.loading = false;\n            cb();\n        }, () => {\n            // handler `loading image` load failed\n            cb();\n            this.state.loading = false;\n            if (!this.options.silent) console.warn(`VueLazyload log: load failed with loading image(${this.loading})`);\n        });\n    }\n    /*\r\n     * try load image and  render it\r\n     * @return\r\n     */\n    load(onFinish = noop) {\n        if (this.attempt > this.options.attempt - 1 && this.state.error) {\n            if (!this.options.silent) console.log(`VueLazyload log: ${this.src} tried too more than ${this.options.attempt} times`);\n            onFinish();\n            return;\n        }\n        if (this.state.rendered && this.state.loaded) return;\n        if (this._imageCache.has(this.src)) {\n            this.state.loaded = true;\n            this.render('loaded', true);\n            this.state.rendered = true;\n            return onFinish();\n        }\n        this.renderLoading(() => {\n            this.attempt++;\n            this.options.adapter.beforeLoad && this.options.adapter.beforeLoad(this, this.options);\n            this.record('loadStart');\n            loadImageAsync({\n                src: this.src,\n                cors: this.cors\n            }, data => {\n                this.naturalHeight = data.naturalHeight;\n                this.naturalWidth = data.naturalWidth;\n                this.state.loaded = true;\n                this.state.error = false;\n                this.record('loadEnd');\n                this.render('loaded', false);\n                this.state.rendered = true;\n                this._imageCache.add(this.src);\n                onFinish();\n            }, err => {\n                !this.options.silent && console.error(err);\n                this.state.error = true;\n                this.state.loaded = false;\n                this.render('error', false);\n            });\n        });\n    }\n    /*\r\n     * render image\r\n     * @param  {String} state to render // ['loading', 'src', 'error']\r\n     * @param  {String} is form cache\r\n     * @return\r\n     */\n    render(state, cache) {\n        this.elRenderer(this, state, cache);\n    }\n    /*\r\n     * output performance data\r\n     * @return {Object} performance data\r\n     */\n    performance() {\n        let state = 'loading';\n        let time = 0;\n        if (this.state.loaded) {\n            state = 'loaded';\n            time = (this.performanceData.loadEnd - this.performanceData.loadStart) / 1000;\n        }\n        if (this.state.error) state = 'error';\n        return {\n            src: this.src,\n            state,\n            time\n        };\n    }\n    /*\r\n     * $destroy\r\n     * @return\r\n     */\n    $destroy() {\n        this.el = null;\n        this.src = '';\n        this.error = null;\n        this.loading = '';\n        this.bindType = null;\n        this.attempt = 0;\n    }\n}\n\nconst DEFAULT_URL = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\nconst DEFAULT_EVENTS = ['scroll', 'wheel', 'mousewheel', 'resize', 'animationend', 'transitionend', 'touchmove'];\nconst DEFAULT_OBSERVER_OPTIONS = {\n    rootMargin: '0px',\n    threshold: 0\n};\nclass Lazy {\n    constructor({ preLoad, error, throttleWait, preLoadTop, dispatchEvent, loading, attempt, silent = true, scale, listenEvents, filter, adapter, observer, observerOptions }) {\n        this.version = '\"3.0.0-rc.1\"';\n        this.lazyContainerMananger = null;\n        this.mode = modeType.event;\n        this.ListenerQueue = [];\n        this.TargetIndex = 0;\n        this.TargetQueue = [];\n        this.options = {\n            silent: silent,\n            dispatchEvent: !!dispatchEvent,\n            throttleWait: throttleWait || 200,\n            preLoad: preLoad || 1.3,\n            preLoadTop: preLoadTop || 0,\n            error: error || DEFAULT_URL,\n            loading: loading || DEFAULT_URL,\n            attempt: attempt || 3,\n            scale: scale || getDPR(scale),\n            listenEvents: listenEvents || DEFAULT_EVENTS,\n            supportWebp: supportWebp(),\n            filter: filter || {},\n            adapter: adapter || {},\n            observer: !!observer,\n            observerOptions: observerOptions || DEFAULT_OBSERVER_OPTIONS\n        };\n        this._initEvent();\n        this._imageCache = new ImageCache(200);\n        this.lazyLoadHandler = throttle(this._lazyLoadHandler.bind(this), this.options.throttleWait);\n        this.setMode(this.options.observer ? modeType.observer : modeType.event);\n    }\n    /**\r\n     * output listener's load performance\r\n     * @return {Array}\r\n     */\n    performance() {\n        const list = [];\n        this.ListenerQueue.map(item => list.push(item.performance()));\n        return list;\n    }\n    /*\r\n     * add lazy component to queue\r\n     * @param  {Vue} vm lazy component instance\r\n     * @return\r\n     */\n    addLazyBox(vm) {\n        this.ListenerQueue.push(vm);\n        if (inBrowser) {\n            this._addListenerTarget(window);\n            this._observer && this._observer.observe(vm.el);\n            if (vm.$el && vm.$el.parentNode) {\n                this._addListenerTarget(vm.$el.parentNode);\n            }\n        }\n    }\n    /*\r\n     * add image listener to queue\r\n     * @param  {DOM} el\r\n     * @param  {object} binding vue directive binding\r\n     * @param  {vnode} vnode vue directive vnode\r\n     * @return\r\n     */\n    add(el, binding, vnode) {\n        if (this.ListenerQueue.some(item => item.el === el)) {\n            this.update(el, binding);\n            return nextTick(this.lazyLoadHandler);\n        }\n        let { src, loading, error, cors } = this._valueFormatter(binding.value);\n        nextTick(() => {\n            src = getBestSelectionFromSrcset(el, this.options.scale) || src;\n            this._observer && this._observer.observe(el);\n            const container = Object.keys(binding.modifiers)[0];\n            let $parent;\n            if (container) {\n                $parent = binding.instance.$refs[container];\n                // if there is container passed in, try ref first, then fallback to getElementById to support the original usage\n                $parent = $parent ? $parent.el || $parent : document.getElementById(container);\n            }\n            if (!$parent) {\n                $parent = scrollParent(el);\n            }\n            const newListener = new ReactiveListener(el, src, error, loading, binding.arg, $parent, this.options, cors, this._elRenderer.bind(this), this._imageCache);\n            this.ListenerQueue.push(newListener);\n            if (inBrowser) {\n                this._addListenerTarget(window);\n                this._addListenerTarget($parent);\n            }\n            nextTick(this.lazyLoadHandler);\n        });\n    }\n    /**\r\n    * update image src\r\n    * @param  {DOM} el\r\n    * @param  {object} vue directive binding\r\n    * @return\r\n    */\n    update(el, binding, vnode) {\n        let { src, loading, error } = this._valueFormatter(binding.value);\n        src = getBestSelectionFromSrcset(el, this.options.scale) || src;\n        const exist = this.ListenerQueue.find(item => item.el === el);\n        if (!exist) {\n            if (el.getAttribute('lazy') !== 'loaded' || el.dataset.src !== src) {\n                this.add(el, binding, vnode);\n            }\n        } else {\n            exist.update({\n                src,\n                loading,\n                error\n            });\n        }\n        if (this._observer) {\n            this._observer.unobserve(el);\n            this._observer.observe(el);\n        }\n        nextTick(this.lazyLoadHandler);\n    }\n    /**\r\n    * remove listener form list\r\n    * @param  {DOM} el\r\n    * @return\r\n    */\n    remove(el) {\n        if (!el) return;\n        this._observer && this._observer.unobserve(el);\n        const existItem = this.ListenerQueue.find(item => item.el === el);\n        if (existItem) {\n            this._removeListenerTarget(existItem.$parent);\n            this._removeListenerTarget(window);\n            remove(this.ListenerQueue, existItem);\n            existItem.$destroy && existItem.$destroy();\n        }\n    }\n    /*\r\n     * remove lazy components form list\r\n     * @param  {Vue} vm Vue instance\r\n     * @return\r\n     */\n    removeComponent(vm) {\n        if (!vm) return;\n        remove(this.ListenerQueue, vm);\n        this._observer && this._observer.unobserve(vm.el);\n        if (vm.$parent && vm.$el.parentNode) {\n            this._removeListenerTarget(vm.$el.parentNode);\n        }\n        this._removeListenerTarget(window);\n    }\n    setMode(mode) {\n        if (!hasIntersectionObserver && mode === modeType.observer) {\n            mode = modeType.event;\n        }\n        this.mode = mode; // event or observer\n        if (mode === modeType.event) {\n            if (this._observer) {\n                this.ListenerQueue.forEach(listener => {\n                    this._observer.unobserve(listener.el);\n                });\n                this._observer = null;\n            }\n            this.TargetQueue.forEach(target => {\n                this._initListen(target.el, true);\n            });\n        } else {\n            this.TargetQueue.forEach(target => {\n                this._initListen(target.el, false);\n            });\n            this._initIntersectionObserver();\n        }\n    }\n    /*\r\n    *** Private functions ***\r\n    */\n    /*\r\n     * add listener target\r\n     * @param  {DOM} el listener target\r\n     * @return\r\n     */\n    _addListenerTarget(el) {\n        if (!el) return;\n        let target = this.TargetQueue.find(target => target.el === el);\n        if (!target) {\n            target = {\n                el: el,\n                id: ++this.TargetIndex,\n                childrenCount: 1,\n                listened: true\n            };\n            this.mode === modeType.event && this._initListen(target.el, true);\n            this.TargetQueue.push(target);\n        } else {\n            target.childrenCount++;\n        }\n        return this.TargetIndex;\n    }\n    /*\r\n     * remove listener target or reduce target childrenCount\r\n     * @param  {DOM} el or window\r\n     * @return\r\n     */\n    _removeListenerTarget(el) {\n        this.TargetQueue.forEach((target, index) => {\n            if (target.el === el) {\n                target.childrenCount--;\n                if (!target.childrenCount) {\n                    this._initListen(target.el, false);\n                    this.TargetQueue.splice(index, 1);\n                    target = null;\n                }\n            }\n        });\n    }\n    /*\r\n     * add or remove eventlistener\r\n     * @param  {DOM} el DOM or Window\r\n     * @param  {boolean} start flag\r\n     * @return\r\n     */\n    _initListen(el, start) {\n        this.options.listenEvents.forEach(evt => _[start ? 'on' : 'off'](el, evt, this.lazyLoadHandler));\n    }\n    _initEvent() {\n        this.Event = {\n            listeners: {\n                loading: [],\n                loaded: [],\n                error: []\n            }\n        };\n        this.$on = (event, func) => {\n            if (!this.Event.listeners[event]) this.Event.listeners[event] = [];\n            this.Event.listeners[event].push(func);\n        };\n        this.$once = (event, func) => {\n            const vm = this;\n            function on() {\n                vm.$off(event, on);\n                func.apply(vm, arguments);\n            }\n            this.$on(event, on);\n        };\n        this.$off = (event, func) => {\n            if (!func) {\n                if (!this.Event.listeners[event]) return;\n                this.Event.listeners[event].length = 0;\n                return;\n            }\n            remove(this.Event.listeners[event], func);\n        };\n        this.$emit = (event, context, inCache) => {\n            if (!this.Event.listeners[event]) return;\n            this.Event.listeners[event].forEach(func => func(context, inCache));\n        };\n    }\n    /**\r\n     * find nodes which in viewport and trigger load\r\n     * @return\r\n     */\n    _lazyLoadHandler() {\n        const freeList = [];\n        this.ListenerQueue.forEach((listener, index) => {\n            if (!listener.el || !listener.el.parentNode || listener.state.loaded) {\n                freeList.push(listener);\n            }\n            const catIn = listener.checkInView();\n            if (!catIn) return;\n            if (!listener.state.loaded) listener.load();\n        });\n        freeList.forEach(item => {\n            remove(this.ListenerQueue, item);\n            item.$destroy && item.$destroy();\n        });\n    }\n    /**\r\n    * init IntersectionObserver\r\n    * set mode to observer\r\n    * @return\r\n    */\n    _initIntersectionObserver() {\n        if (!hasIntersectionObserver) return;\n        this._observer = new IntersectionObserver(this._observerHandler.bind(this), this.options.observerOptions);\n        if (this.ListenerQueue.length) {\n            this.ListenerQueue.forEach(listener => {\n                this._observer.observe(listener.el);\n            });\n        }\n    }\n    /**\r\n    * init IntersectionObserver\r\n    * @param {Array<IntersectionObserverEntry>} entries\r\n    * @return\r\n    */\n    _observerHandler(entries) {\n        entries.forEach(entry => {\n            if (entry.isIntersecting) {\n                this.ListenerQueue.forEach(listener => {\n                    if (listener.el === entry.target) {\n                        if (listener.state.loaded) return this._observer.unobserve(listener.el);\n                        listener.load();\n                    }\n                });\n            }\n        });\n    }\n    /**\r\n    * set element attribute with image'url and state\r\n    * @param  {ReactiveListener} lazyload listener object\r\n    * @param  {TeventType} state will be rendered\r\n    * @param  {bool} inCache  is rendered from cache\r\n    * @return\r\n    */\n    _elRenderer(listener, state, cache) {\n        if (!listener.el) return;\n        const { el, bindType } = listener;\n        let src;\n        switch (state) {\n            case 'loading':\n                src = listener.loading;\n                break;\n            case 'error':\n                src = listener.error;\n                break;\n            default:\n                src = listener.src;\n                break;\n        }\n        if (bindType) {\n            // @ts-ignore\n            el.style[bindType] = 'url(\"' + src + '\")';\n        } else if (el.getAttribute('src') !== src) {\n            el.setAttribute('src', src);\n        }\n        el.setAttribute('lazy', state);\n        this.$emit(state, listener, cache);\n        this.options.adapter[state] && this.options.adapter[state](listener, this.options);\n        if (this.options.dispatchEvent) {\n            const event = new CustomEvent(state, {\n                detail: listener\n            });\n            el.dispatchEvent(event);\n        }\n    }\n    _valueFormatter(value) {\n        if (typeof value === 'object') {\n            if (!value.src && !this.options.silent) console.error('Vue Lazyload warning: miss src with ' + value);\n            return {\n                src: value.src,\n                loading: value.loading || this.options.loading,\n                error: value.error || this.options.error,\n                cors: this.options.cors\n            };\n        }\n        return {\n            src: value,\n            loading: this.options.loading,\n            error: this.options.error,\n            cors: this.options.cors\n        };\n    }\n}\n\nconst useCheckInView = (el, preLoad) => {\n    let rect = reactive({});\n    const getRect = () => {\n        rect = el.value.getBoundingClientRect();\n    };\n    const checkInView = () => {\n        getRect();\n        return inBrowser && rect.top < window.innerHeight * preLoad && rect.bottom > 0 && rect.left < window.innerWidth * preLoad && rect.right > 0;\n    };\n    return {\n        rect,\n        checkInView\n    };\n};\n\nvar LazyComponent = (lazy => {\n    return defineComponent({\n        props: {\n            tag: {\n                type: String,\n                default: 'div'\n            }\n        },\n        emits: ['show'],\n        setup(props, { emit, slots }) {\n            const el = ref();\n            const state = reactive({\n                loaded: false,\n                error: false,\n                attempt: 0\n            });\n            const show = ref(false);\n            const { rect, checkInView } = useCheckInView(el, lazy.options.preLoad);\n            const load = () => {\n                show.value = true;\n                state.loaded = true;\n                emit('show', show.value);\n            };\n            const vm = computed(() => {\n                return {\n                    el: el.value,\n                    rect,\n                    checkInView,\n                    load,\n                    state\n                };\n            });\n            onMounted(() => {\n                lazy.addLazyBox(vm.value);\n                lazy.lazyLoadHandler();\n            });\n            onUnmounted(() => {\n                lazy.removeComponent(vm.value);\n            });\n            return () => {\n                var _a;\n                return createVNode(props.tag, {\n                    ref: el\n                }, [show.value && ((_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots))]);\n            };\n        }\n    });\n});\n\nclass LazyContainerMananger {\n    constructor(lazy) {\n        this.lazy = lazy;\n        lazy.lazyContainerMananger = this;\n        this._queue = [];\n    }\n    bind(el, binding, vnode) {\n        const container = new LazyContainer(el, binding, vnode, this.lazy);\n        this._queue.push(container);\n    }\n    update(el, binding, vnode) {\n        const container = this._queue.find(item => item.el === el);\n        if (!container) return;\n        container.update(el, binding);\n    }\n    unbind(el, binding, vnode) {\n        const container = this._queue.find(item => item.el === el);\n        if (!container) return;\n        container.clear();\n        remove(this._queue, container);\n    }\n}\nconst defaultOptions = {\n    selector: 'img',\n    error: '',\n    loading: ''\n};\nclass LazyContainer {\n    constructor(el, binding, vnode, lazy) {\n        this.el = el;\n        this.vnode = vnode;\n        this.binding = binding;\n        this.options = {};\n        this.lazy = lazy;\n        this._queue = [];\n        this.update(el, binding);\n    }\n    update(el, binding) {\n        this.el = el;\n        this.options = assignDeep({}, defaultOptions, binding.value);\n        const imgs = this.getImgs();\n        imgs.forEach(el => {\n            this.lazy.add(el, assignDeep({}, this.binding, {\n                value: {\n                    src: el.getAttribute('data-src') || el.dataset.src,\n                    error: el.getAttribute('data-error') || el.dataset.error || this.options.error,\n                    loading: el.getAttribute('data-loading') || el.dataset.loading || this.options.loading\n                }\n            }), this.vnode);\n        });\n    }\n    getImgs() {\n        return Array.from(this.el.querySelectorAll(this.options.selector));\n    }\n    clear() {\n        const imgs = this.getImgs();\n        imgs.forEach(el => this.lazy.remove(el));\n        this.vnode = null;\n        this.binding = null;\n        this.lazy = null;\n    }\n}\n\nvar LazyImage = (lazy => {\n    return defineComponent({\n        setup(props, { slots }) {\n            const el = ref();\n            const options = reactive({\n                src: '',\n                error: '',\n                loading: '',\n                attempt: lazy.options.attempt\n            });\n            const state = reactive({\n                loaded: false,\n                error: false,\n                attempt: 0\n            });\n            const { rect, checkInView } = useCheckInView(el, lazy.options.preLoad);\n            const renderSrc = ref('');\n            const load = (onFinish = noop) => {\n                if (state.attempt > options.attempt - 1 && state.error) {\n                    if (!lazy.options.silent) console.log(`VueLazyload log: ${options.src} tried too more than ${options.attempt} times`);\n                    return onFinish();\n                }\n                const src = options.src;\n                loadImageAsync({ src }, ({ src }) => {\n                    renderSrc.value = src;\n                    state.loaded = true;\n                }, () => {\n                    state.attempt++;\n                    renderSrc.value = options.error;\n                    state.error = true;\n                });\n            };\n            const vm = computed(() => {\n                return {\n                    el: el.value,\n                    rect,\n                    checkInView,\n                    load,\n                    state\n                };\n            });\n            onMounted(() => {\n                lazy.addLazyBox(vm.value);\n                lazy.lazyLoadHandler();\n            });\n            onUnmounted(() => {\n                lazy.removeComponent(vm.value);\n            });\n            const init = () => {\n                const { src, loading, error } = lazy._valueFormatter(props.src);\n                state.loaded = false;\n                options.src = src;\n                options.error = error;\n                options.loading = loading;\n                renderSrc.value = options.loading;\n            };\n            watch(() => props.src, () => {\n                init();\n                lazy.addLazyBox(vm.value);\n                lazy.lazyLoadHandler();\n            }, {\n                immediate: true\n            });\n            return () => {\n                var _a;\n                return createVNode(props.tag || 'img', {\n                    src: renderSrc.value,\n                    ref: el\n                }, [(_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots)]);\n            };\n        }\n    });\n});\n\nvar index = {\n    /*\r\n    * install function\r\n    * @param  {Vue} Vue\r\n    * @param  {object} options lazyload options\r\n    */\n    install(Vue, options = {}) {\n        const lazy = new Lazy(options);\n        const lazyContainer = new LazyContainerMananger(lazy);\n        const vueVersion = Number(Vue.version.split('.')[0]);\n        if (vueVersion < 3) return new Error('Vue version at least 3.0');\n        Vue.config.globalProperties.$Lazyload = lazy;\n        Vue.provide('Lazyload', lazy);\n        if (options.lazyComponent) {\n            Vue.component('lazy-component', LazyComponent(lazy));\n        }\n        if (options.lazyImage) {\n            Vue.component('lazy-image', LazyImage(lazy));\n        }\n        Vue.directive('lazy', {\n            beforeMount: lazy.add.bind(lazy),\n            beforeUpdate: lazy.update.bind(lazy),\n            updated: lazy.lazyLoadHandler.bind(lazy),\n            unmounted: lazy.remove.bind(lazy)\n        });\n        Vue.directive('lazy-container', {\n            beforeMount: lazyContainer.bind.bind(lazyContainer),\n            updated: lazyContainer.update.bind(lazyContainer),\n            unmounted: lazyContainer.unbind.bind(lazyContainer)\n        });\n    }\n};\n\nexport { index as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}