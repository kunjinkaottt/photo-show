{"ast":null,"code":"// import axios from 'axios'\n\nexport default {\n  name: 'LocalImg',\n  data() {\n    return {\n      imgList: []\n    };\n  },\n  created() {\n\n    // let randomWidth = ''\n    // let randomHeight = ''\n    // let imgApi = ''\n    // for (let i = 0; i < 15; i++) {\n    //     randomWidth = Math.floor(Math.random() * 500) + 240  //随机宽度\n    //     randomHeight = Math.floor(Math.random() * 500) + 240 //随机高度\n    //     imgApi = 'https://picsum.photos/' + randomWidth + '/' + randomHeight + '?random=' + i //随机图api\n    //     // 把请求 随机图api得到的图片url放到数组里\n    //     axios.get(imgApi).then(response => {\n    //         this.imgArr.push(response.request.responseURL)\n    //     })\n    //     // 计算并保存图片在页面中的高度 ,用于下一排自动补充到上一排高度最小的图片下面\n    //     // this.imgHeightArr.push(Math.round(240 * this.randomHeight / this.randomWidth))\n    // }\n    // var content = document.getElementsByClassName(\"content\")[0]\n    // var contentWidth = content.offsetWidth  //获取主容器的宽度\n    // console.log(contentWidth);  \n    // var imgs = []\n    // imgs =  content.children\n    // console.log(imgs[0]);   //多这个缓冲，可以得到imgs第一个元素的offsetWidth\n    // var imgWidth = imgs[0].offsetWidth\n    // console.log(imgWidth);\n\n    // var nums = Math.floor(contentWidth / imgWidth)\n    // console.log(nums);\n\n    // // 收集第一排所有高度\n    // var arrHeight = []\n    // for (let i = 0; i < imgs.length; i++) {\n    //     if(i<nums){ //第一行\n    //         arrHeight.push(imgs[i].offsetWidth) //问题在于图片获取太慢\n    //     }\n    //     console.log(arrHeight);\n    // }\n\n    // // \n  },\n  mounted() {\n    const files = require.context(\"@/assets/imgs\", true, /\\*.\\.jpg$/).keys();\n    this.imgList = files;\n  },\n  methods: {}\n};","map":{"version":3,"names":["name","data","imgList","created","mounted","files","require","context","keys","methods"],"sources":["src/components/LocalImg.vue"],"sourcesContent":["<template>\r\n    <div id=\"waterfall\">\r\n\r\n        <div class=\"content\">\r\n            <!-- 遍历图片数组获取图片 -->\r\n            <div >\r\n                <img :src=\"require('../assets/imgs' + item.slice(1))\" alt=\"xxx\" v-for=\"(item, index) in imgList\" :key=\"index\" />\r\n            </div>\r\n\r\n            <!-- <div >\r\n               <img src=\"../assets/imgs/2 sheets   Sea and boat-1.jpg\" alt=\"\">\r\n            </div>\r\n            <div >\r\n               <img src=\"../assets/imgs/3 hours concept art demo.jpg\" alt=\"\">\r\n            </div>\r\n            <div >\r\n               <img src=\"../assets/imgs/Camp.jpg\" alt=\"\">\r\n            </div>\r\n            <div >\r\n               <img src=\"../assets/imgs/Architectural design demo.jpg\" alt=\"\">\r\n            </div>\r\n            <div >\r\n               <img src=\"../assets/imgs/china xianxia.jpg\" alt=\"\">\r\n            </div>\r\n            <div >\r\n               <img src=\"../assets/imgs/5 years ago worksExpeditionary famil\" alt=\"\">\r\n            </div>\r\n            <div >\r\n               <img src=\"../assets/imgs/design demo-1.jpg\" alt=\"\">\r\n            </div>\r\n            <div >\r\n               <img src=\"../assets/imgs/Game scene design.jpg\" alt=\"\">\r\n            </div>\r\n            <div >\r\n               <img src=\"../assets/imgs/4 hours illustration demo.jpg\" alt=\"\">\r\n            </div>\r\n            <div >\r\n               <img src=\"../assets/imgs/TEN YAN CITY.jpg\" alt=\"\">\r\n            </div>\r\n            <div >\r\n               <img src=\"../assets/imgs/Huizhou architecture  demo.jpg\" alt=\"\">\r\n            </div>\r\n            <div >\r\n               <img src=\"../assets/imgs/Cyberpunk Oriental bar.jpg\" alt=\"\">\r\n            </div>\r\n            <div >\r\n               <img src=\"../assets/imgs/Ao Zeya style architectural design.jpg\" alt=\"\">\r\n            </div>\r\n            <div >\r\n               <img src=\"../assets/imgs/City of the sky.jpg\" alt=\"\">\r\n            </div>\r\n            <div >\r\n               <img src=\"../assets/imgs/design demo-3.jpg\" alt=\"\">\r\n            </div>\r\n            <div >\r\n               <img src=\"../assets/imgs/expedition forces.jpg\" alt=\"\">\r\n            </div> -->\r\n\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n// import axios from 'axios'\r\n\r\n\r\n\r\nexport default {\r\n    name: 'LocalImg',\r\n    data() {\r\n        return {\r\n            imgList: [],\r\n        }\r\n    },\r\n    created() {\r\n\r\n        // let randomWidth = ''\r\n        // let randomHeight = ''\r\n        // let imgApi = ''\r\n        // for (let i = 0; i < 15; i++) {\r\n        //     randomWidth = Math.floor(Math.random() * 500) + 240  //随机宽度\r\n        //     randomHeight = Math.floor(Math.random() * 500) + 240 //随机高度\r\n        //     imgApi = 'https://picsum.photos/' + randomWidth + '/' + randomHeight + '?random=' + i //随机图api\r\n        //     // 把请求 随机图api得到的图片url放到数组里\r\n        //     axios.get(imgApi).then(response => {\r\n        //         this.imgArr.push(response.request.responseURL)\r\n        //     })\r\n        //     // 计算并保存图片在页面中的高度 ,用于下一排自动补充到上一排高度最小的图片下面\r\n        //     // this.imgHeightArr.push(Math.round(240 * this.randomHeight / this.randomWidth))\r\n        // }\r\n        // var content = document.getElementsByClassName(\"content\")[0]\r\n        // var contentWidth = content.offsetWidth  //获取主容器的宽度\r\n        // console.log(contentWidth);  \r\n        // var imgs = []\r\n        // imgs =  content.children\r\n        // console.log(imgs[0]);   //多这个缓冲，可以得到imgs第一个元素的offsetWidth\r\n        // var imgWidth = imgs[0].offsetWidth\r\n        // console.log(imgWidth);\r\n\r\n        // var nums = Math.floor(contentWidth / imgWidth)\r\n        // console.log(nums);\r\n\r\n        // // 收集第一排所有高度\r\n        // var arrHeight = []\r\n        // for (let i = 0; i < imgs.length; i++) {\r\n        //     if(i<nums){ //第一行\r\n        //         arrHeight.push(imgs[i].offsetWidth) //问题在于图片获取太慢\r\n        //     }\r\n        //     console.log(arrHeight);\r\n        // }\r\n\r\n        // // \r\n\r\n    },\r\n    mounted() {\r\n        const files = require.context(\"@/assets/imgs\", true, /\\*.\\.jpg$/).keys();\r\n        this.imgList = files\r\n    },\r\n    methods: {\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n</script>\r\n\r\n<style lang=\"less\">\r\n* {\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\n\r\n.content {\r\n    width: 100%;\r\n    height: 2000px;\r\n\r\n    div {\r\n        float: left;\r\n        padding: 10px;\r\n\r\n        img {\r\n            width: 200px;\r\n            border-radius: 10px;\r\n\r\n        }\r\n    }\r\n\r\n}\r\n</style>"],"mappings":"AAgEA;;AAIA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,OAAA;IACA;EACA;EACAC,QAAA;;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA;;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;EAAA,CAEA;EACAC,QAAA;IACA,MAAAC,KAAA,GAAAC,OAAA,CAAAC,OAAA,qCAAAC,IAAA;IACA,KAAAN,OAAA,GAAAG,KAAA;EACA;EACAI,OAAA,GAEA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}