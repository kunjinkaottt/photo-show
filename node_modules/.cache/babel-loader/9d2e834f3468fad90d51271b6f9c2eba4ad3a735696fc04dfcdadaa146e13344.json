{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport class WaterFall {\n  //类\n  constructor(options) {\n    //构造函数\n    this.$options = options;\n    this.heightArr = []; //高度数组 长度为列数\n    this.__init();\n  }\n  __init() {\n    //初始化\n    this.items = document.querySelector(this.$options.el).children; //获取wf-item数组（每张图外面的div）\n    this.column = this.$options.column; //获取在LocalImg.vue构造的列数column\n    this.gap = this.$options.gap; //获取在LocalImg.vue构造的间隔 gap\n    //获取单张图片的宽度（wf-content宽度减去列数倍间隔 除以总共的列数，得到1列的宽度）\n    this.itemWidth = (document.querySelector(this.$options.el).offsetWidth - this.gap * this.column) / this.column;\n    this.__render();\n  }\n  __render() {\n    //渲染\n    [...this.items].forEach((value, index) => {\n      //遍历每张图外面的div\n      value.style.width = this.itemWidth + \"px\";\n      if (index < this.column) {\n        //第一行\n        value.style.top = \"10px\";\n        value.style.left = (this.itemWidth + this.gap) * index + \"px\";\n        this.heightArr.push(value.offsetHeight);\n      } else {\n        //第二行往后\n        this.minIndex = this.__getMiniIndex();\n        value.style.top = this.heightArr[this.minIndex] + this.gap + \"px\"; //第二排往后的 顶边距为最小高度加间隔\n        value.style.left = (this.itemWidth + this.gap) * this.minIndex + \"px\"; //第二排往后的 左边距为左边多少张图片就加多少张图片的宽度和间隔\n        this.heightArr[this.minIndex] += value.offsetHeight + this.gap; //更新一下高度数组，最小高度的那一项就加上了图片的高度\n      }\n    });\n  }\n\n  __getMiniIndex() {\n    //获取高度数组中最小高度的下标\n    return this.heightArr.indexOf(Math.min(...this.heightArr));\n  }\n}","map":{"version":3,"names":["WaterFall","constructor","options","$options","heightArr","__init","items","document","querySelector","el","children","column","gap","itemWidth","offsetWidth","__render","forEach","value","index","style","width","top","left","push","offsetHeight","minIndex","__getMiniIndex","indexOf","Math","min"],"sources":["C:/webFront/photo-show/src/waterfall/waterfall.js"],"sourcesContent":["export class WaterFall{ //类\r\n    constructor(options){  //构造函数\r\n        this.$options = options  \r\n        this.heightArr = []    //高度数组 长度为列数\r\n        this.__init()\r\n    }\r\n\r\n    __init(){   //初始化\r\n        this.items = document.querySelector(this.$options.el).children  //获取wf-item数组（每张图外面的div）\r\n        this.column = this.$options.column  //获取在LocalImg.vue构造的列数column\r\n        this.gap = this.$options.gap    //获取在LocalImg.vue构造的间隔 gap\r\n        //获取单张图片的宽度（wf-content宽度减去列数倍间隔 除以总共的列数，得到1列的宽度）\r\n        this.itemWidth = (document.querySelector(this.$options.el).offsetWidth - this.gap*this.column)/this.column\r\n        this.__render()\r\n    }\r\n\r\n    __render(){ //渲染\r\n        [...this.items].forEach((value,index)=>{    //遍历每张图外面的div\r\n            value.style.width = this.itemWidth +\"px\"\r\n            if(index < this.column){    //第一行\r\n                value.style.top = \"10px\"\r\n                value.style.left = (this.itemWidth + this.gap)*index +\"px\"\r\n                this.heightArr.push(value.offsetHeight)\r\n            }else{  //第二行往后\r\n                this.minIndex = this.__getMiniIndex()\r\n                value.style.top = this.heightArr[this.minIndex] + this.gap +\"px\"   //第二排往后的 顶边距为最小高度加间隔\r\n                value.style.left = (this.itemWidth + this.gap)*this.minIndex +\"px\"  //第二排往后的 左边距为左边多少张图片就加多少张图片的宽度和间隔\r\n                this.heightArr[this.minIndex] += value.offsetHeight +this.gap  //更新一下高度数组，最小高度的那一项就加上了图片的高度\r\n            }\r\n        })\r\n    }\r\n\r\n    __getMiniIndex(){//获取高度数组中最小高度的下标\r\n        return this.heightArr.indexOf(Math.min(...this.heightArr))\r\n    }\r\n}"],"mappings":";AAAA,OAAO,MAAMA,SAAS;EAAE;EACpBC,WAAWA,CAACC,OAAO,EAAC;IAAG;IACnB,IAAI,CAACC,QAAQ,GAAGD,OAAO;IACvB,IAAI,CAACE,SAAS,GAAG,EAAE,EAAI;IACvB,IAAI,CAACC,MAAM,EAAE;EACjB;EAEAA,MAAMA,CAAA,EAAE;IAAI;IACR,IAAI,CAACC,KAAK,GAAGC,QAAQ,CAACC,aAAa,CAAC,IAAI,CAACL,QAAQ,CAACM,EAAE,CAAC,CAACC,QAAQ,EAAE;IAChE,IAAI,CAACC,MAAM,GAAG,IAAI,CAACR,QAAQ,CAACQ,MAAM,EAAE;IACpC,IAAI,CAACC,GAAG,GAAG,IAAI,CAACT,QAAQ,CAACS,GAAG,EAAI;IAChC;IACA,IAAI,CAACC,SAAS,GAAG,CAACN,QAAQ,CAACC,aAAa,CAAC,IAAI,CAACL,QAAQ,CAACM,EAAE,CAAC,CAACK,WAAW,GAAG,IAAI,CAACF,GAAG,GAAC,IAAI,CAACD,MAAM,IAAE,IAAI,CAACA,MAAM;IAC1G,IAAI,CAACI,QAAQ,EAAE;EACnB;EAEAA,QAAQA,CAAA,EAAE;IAAE;IACR,CAAC,GAAG,IAAI,CAACT,KAAK,CAAC,CAACU,OAAO,CAAC,CAACC,KAAK,EAACC,KAAK,KAAG;MAAK;MACxCD,KAAK,CAACE,KAAK,CAACC,KAAK,GAAG,IAAI,CAACP,SAAS,GAAE,IAAI;MACxC,IAAGK,KAAK,GAAG,IAAI,CAACP,MAAM,EAAC;QAAK;QACxBM,KAAK,CAACE,KAAK,CAACE,GAAG,GAAG,MAAM;QACxBJ,KAAK,CAACE,KAAK,CAACG,IAAI,GAAG,CAAC,IAAI,CAACT,SAAS,GAAG,IAAI,CAACD,GAAG,IAAEM,KAAK,GAAE,IAAI;QAC1D,IAAI,CAACd,SAAS,CAACmB,IAAI,CAACN,KAAK,CAACO,YAAY,CAAC;MAC3C,CAAC,MAAI;QAAG;QACJ,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACC,cAAc,EAAE;QACrCT,KAAK,CAACE,KAAK,CAACE,GAAG,GAAG,IAAI,CAACjB,SAAS,CAAC,IAAI,CAACqB,QAAQ,CAAC,GAAG,IAAI,CAACb,GAAG,GAAE,IAAI,EAAG;QACnEK,KAAK,CAACE,KAAK,CAACG,IAAI,GAAG,CAAC,IAAI,CAACT,SAAS,GAAG,IAAI,CAACD,GAAG,IAAE,IAAI,CAACa,QAAQ,GAAE,IAAI,EAAE;QACpE,IAAI,CAACrB,SAAS,CAAC,IAAI,CAACqB,QAAQ,CAAC,IAAIR,KAAK,CAACO,YAAY,GAAE,IAAI,CAACZ,GAAG,EAAE;MACnE;IACJ,CAAC,CAAC;EACN;;EAEAc,cAAcA,CAAA,EAAE;IAAC;IACb,OAAO,IAAI,CAACtB,SAAS,CAACuB,OAAO,CAACC,IAAI,CAACC,GAAG,CAAC,GAAG,IAAI,CAACzB,SAAS,CAAC,CAAC;EAC9D;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}